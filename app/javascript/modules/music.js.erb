////////////Music///////////////
//const stroke = new Audio('/assets/audios/pen-stroke2.mp3');
const stroke = new Audio('<%= asset_path("pen-stroke2.mp3") %>');
const lostBoardsSound = new Audio('<%= asset_path("board-lost.mp3") %>');
const whoosh = new Audio('<%= asset_path("whoosh.mp3") %>');

let muted= true

function playSound(sound){
  if(muted === false){
    sound.play();
  }
}

function setVol(){
  var volSlider = document.getElementsByClassName('vol')[0];

  stroke.volume = volSlider.value / 100;
  lostBoardsSound.volume = volSlider.value / 100;
  whoosh.volume = volSlider.value / 100;
  document.getElementsByTagName('audio')[0].volume = volSlider.value /100;
}

function playDreaming(){
  document.getElementsByTagName('audio')[0].pause();
  document.getElementsByTagName('audio')[0].src = '<%= asset_path("Dreaming.mp3") %>';
  playSound(document.getElementsByTagName('audio')[0]);
}

function changeMute(){
  const muteBtn = document.getElementsByClassName("mute-btn")[0];
  if(muted === false){
    muteAll();
    muteBtn.classList.remove('fa-volume-up');
    muteBtn.classList.add('fa-volume-mute');
  }
  else{
    unMuteAll();
    muteBtn.classList.remove('fa-volume-mute');
    muteBtn.classList.add('fa-volume-up');
  }
}

function muteAll(){
  var music = document.getElementsByTagName('audio')[0]
  
  muted = true;

  music.pause();
}

function unMuteAll(){
  var music = document.getElementsByTagName('audio')[0]
  
  muted = false;

  music.play();
}

export {stroke, lostBoardsSound, whoosh, muted, playSound, setVol, playDreaming, changeMute, muteAll}